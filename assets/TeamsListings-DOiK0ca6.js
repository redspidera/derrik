import{j as e,T as u,B as R,I as N,E as G,P as J,r as t,H as K,N as Q}from"./index-C2hfVn6k.js";import{W as V,L as X}from"./WhatsApp-4i9cjFYD.js";import{C as Y,a as Z}from"./CardContent-CVYRDK_0.js";import{C as ee}from"./CardMedia-CtTbO1ES.js";import{N as te}from"./NoData-dnygzhEO.js";import{F as ae}from"./FullPageLoader-D93dE52d.js";const se=({member:p})=>{const{name:o,title:c,email:i,phone:l,whatsapp:d,image:s,designation:m}=p;return e.jsxs(Y,{sx:{maxWidth:300,borderRadius:3,boxShadow:3},children:[e.jsx(ee,{component:"img",height:"320",image:s,alt:o}),e.jsxs(Z,{children:[e.jsx(u,{variant:"h6",fontWeight:"bold",children:o}),e.jsx(u,{variant:"body2",color:"text.secondary",mb:1,children:c}),m&&e.jsx(u,{variant:"subtitle2",color:"text.secondary",mb:1,children:m}),e.jsxs(R,{display:"flex",gap:1,children:[i&&e.jsx(N,{href:`mailto:${i}`,color:"primary",children:e.jsx(G,{})}),l&&e.jsx(N,{href:`tel:${l}`,color:"primary",children:e.jsx(J,{})}),d&&e.jsx(N,{href:`https://wa.me/${d}`,target:"_blank",rel:"noopener noreferrer",color:"primary",children:e.jsx(V,{})})]})]})]})},re=({formData:p,handleInputChange:o,handleSubmit:c,setFormData:i,departments:l})=>{const d=()=>{i(()=>{const s={department:""},m=new URLSearchParams({}),x=`${window.location.pathname}?${m.toString()}`;return window.history.pushState({},"",x),s})};return e.jsxs("form",{onSubmit:c,className:"property-search-form ",id:"frmId",children:[e.jsx("div",{className:"form-group",children:e.jsx("select",{name:"department",id:"department",value:p.department,onChange:o,style:{minWidth:"300px"},className:"form-control",children:l.map(s=>e.jsx("option",{value:s.value,children:s.label},s.value))})}),e.jsx("div",{className:"form-group mx-srchbtn  hide d-none",children:e.jsx("div",{className:"d-flex justify-content-between gap-3",children:e.jsx("button",{type:"button",style:{opacity:.6},onClick:d,className:"btn btn-default btn-reset hide d-none",children:"Reset"})})})]})},me=({apiUrl:p})=>{const[o,c]=t.useState(!1),[i,l]=t.useState(null),[d,s]=t.useState(null),[m,y]=t.useState(null),[x,w]=t.useState(null),[r,j]=t.useState({department:""}),[_,k]=t.useState([{value:"",label:"Select Department"}]),[g,L]=t.useState([]),[f,S]=t.useState(1),[P,T]=t.useState("Our Teams"),[D,E]=t.useState(""),[I,W]=t.useState(""),[B,U]=t.useState(0),C=t.useRef(r),$=t.useRef(0);t.useEffect(()=>{const a=new URLSearchParams(window.location.search);j({department:a.get("department")||""}),S(Number(a.get("page"))||1)},[]),t.useEffect(()=>{(r.department!==C.current.department||f!==$.current)&&(C.current=r,$.current=f,F())},[r,f]);const F=async()=>{c(!0),w(null);try{const a=new URLSearchParams({department:r.department||"",page:f.toString()}),h=await fetch(`${p}?${a.toString()}`);if(!h.ok)throw new Error("Failed to fetch properties");const n=await h.json(),{records:b,departments:v,title:A,sub_title:M,count:q,banner_image:z}=n.data;L(b||[]),k(v),T(A||"Our Teams"),E(M||""),W(z||""),U(Number(q)||0),l(n.data.contact_phone||""),y(n.data.contact_format||""),s(n.data.title_page||"")}catch(a){console.error(a),w("Failed to load data. Please try again.")}finally{c(!1)}},H=a=>{const{name:h,value:n}=a.target,b={...r,[h]:n};j(b);const v=new URLSearchParams({department:n,page:"1"});window.history.pushState({},"",`${window.location.pathname}?${v.toString()}`),S(1)},O=a=>{a.preventDefault(),F()};return e.jsxs("div",{children:[e.jsxs("div",{className:"hide section-dark page-banner list-banner-home for-listing-page more-height half-height sect-blog",children:[e.jsx("div",{className:"full-block page-banner-image",style:{backgroundImage:`url(${I})`}}),e.jsx("div",{className:"full-block overlay"}),e.jsx("div",{className:"container h-100-per",children:e.jsx("div",{className:"row disp-table h-100-per",children:e.jsx("div",{className:"col-sm-12 h-100-per",children:e.jsx("div",{className:"page-banner-content",children:e.jsx("div",{className:"text-in-writer",children:e.jsx("div",{className:"fancy-title-hold text-left clearfix",children:e.jsxs("h2",{className:"fancy-title",children:[P,e.jsx("span",{className:"sub-title-fnt",children:D})]})})})})})})})]}),e.jsx(K,{children:e.jsx("title",{children:P})}),e.jsx("div",{id:"blog",className:"section blog list-project ",children:e.jsxs("div",{className:"container",children:[e.jsxs(R,{sx:{px:0,pb:6,maxWidth:800,mx:"auto 0 0 0"},children:[e.jsx(u,{variant:"h4",component:"h2",fontWeight:"bold",gutterBottom:!0,sx:{color:""},children:d}),e.jsxs(u,{variant:"body1",children:["Looking for expert real estate advice? Call us at"," ",e.jsx(X,{href:`tel:${i}`,underline:"hover",color:"primary",children:m})," ","to speak with our customer service team, or"," ",e.jsx(Q,{to:"/contact-us",color:"primary",children:"contact us"})," ","today."]})]}),e.jsx("div",{className:"property-search property-search-full property-depart-form",children:e.jsx(re,{formData:r,handleInputChange:H,handleSubmit:O,setFormData:j,departments:_})}),x&&e.jsx("p",{className:"text-danger",children:x}),e.jsx("div",{className:"row mb10",children:e.jsx("div",{className:"col-12",children:g.length>0&&e.jsxs("p",{className:"text-right pr15 hide d-none",children:[B," records found"]})})}),e.jsx("div",{className:"row article gy-4 posts-list grid ",children:o?e.jsx(e.Fragment,{children:e.jsx(ae,{})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"clearfix"}),e.jsx("div",{className:"mt50",children:e.jsx("div",{className:"clearfix"})}),e.jsx("div",{className:"clearfix"}),e.jsx("div",{className:"inf-its row team-u  mb50 ",children:g.length>0?g.map((a,h)=>e.jsx(se,{member:a},`${a.id}-${h}`)):e.jsx(te,{})})]})})]})})]})};export{me as default};
