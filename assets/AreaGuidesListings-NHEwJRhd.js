import{g as q,f as z,s as R,d as J,m as $,r as a,h as K,j as e,k,l as Q,N as A,T as w,H as X}from"./index-C2hfVn6k.js";import{C as Y,a as Z}from"./CardContent-CVYRDK_0.js";import{C as ee}from"./CardMedia-CtTbO1ES.js";import{N as te}from"./NoData-dnygzhEO.js";import{F as se}from"./FullPageLoader-D93dE52d.js";import{G as g}from"./Grid-BNK0cvxE.js";function ae(t){return z("MuiCardActionArea",t)}const y=q("MuiCardActionArea",["root","focusVisible","focusHighlight"]),re=t=>{const{classes:s}=t;return Q({root:["root"],focusHighlight:["focusHighlight"]},ae,s)},oe=R(J,{name:"MuiCardActionArea",slot:"Root",overridesResolver:(t,s)=>s.root})($(({theme:t})=>({display:"block",textAlign:"inherit",borderRadius:"inherit",width:"100%",[`&:hover .${y.focusHighlight}`]:{opacity:(t.vars||t).palette.action.hoverOpacity,"@media (hover: none)":{opacity:0}},[`&.${y.focusVisible} .${y.focusHighlight}`]:{opacity:(t.vars||t).palette.action.focusOpacity}}))),ne=R("span",{name:"MuiCardActionArea",slot:"FocusHighlight",overridesResolver:(t,s)=>s.focusHighlight})($(({theme:t})=>({overflow:"hidden",pointerEvents:"none",position:"absolute",top:0,right:0,bottom:0,left:0,borderRadius:"inherit",opacity:0,backgroundColor:"currentcolor",transition:t.transitions.create("opacity",{duration:t.transitions.duration.short})}))),ie=a.forwardRef(function(s,i){const n=K({props:s,name:"MuiCardActionArea"}),{children:l,className:c,focusVisibleClassName:u,...r}=n,d=n,x=re(d);return e.jsxs(oe,{className:k(x.root,c),focusVisibleClassName:k(u,x.focusVisible),ref:i,ownerState:d,...r,children:[l,e.jsx(ne,{className:x.focusHighlight,ownerState:d})]})}),ce=({property:t})=>{const{image:s,Title:i,DetailUrl:n,ShortDescription:l}=t,c=window.location.origin;return e.jsx(Y,{elevation:3,sx:{borderRadius:2,height:"100%"},children:e.jsxs(ie,{component:A,to:`${c}${n}`,children:[e.jsx(ee,{component:"img",image:s,alt:i,sx:{height:320,objectFit:"cover"}}),e.jsxs(Z,{children:[e.jsx(w,{variant:"h6",component:A,to:`${c}${n}`,sx:{textDecoration:"none",color:"primary.main",fontWeight:600,lineHeight:1.3,display:"block",mt:2,mb:2},children:i}),e.jsx(w,{variant:"body1",color:"text.secondary",component:"div",className:"inner-content-com1 text-justify",dangerouslySetInnerHTML:{__html:l}})]})]})})},le=({formData:t,handleInputChange:s,handleSubmit:i,setFormData:n})=>{const l=()=>{n(()=>{const c={keyword:""},u=new URLSearchParams({}),d=`${window.location.pathname}?${u.toString()}`;return window.history.pushState({},"",d),c})};return e.jsxs("form",{onSubmit:i,className:"property-search-form",id:"frmId",children:[e.jsx("div",{className:"form-group",children:e.jsx("input",{type:"text",placeholder:"Search Community",name:"keyword",id:"keyword",value:t.keyword,onChange:s,className:"form-control"})}),e.jsx("div",{className:"form-group mx-srchbtn",children:e.jsxs("div",{className:"d-flex justify-content-between gap-3",children:[e.jsx("button",{type:"submit",className:"btn btn-primary btn-submit",children:"Search"}),e.jsx("button",{type:"button",style:{opacity:.6},onClick:l,className:"btn btn-default btn-reset",children:"Reset"})]})})]})},be=({apiUrl:t})=>{const[s,i]=a.useState(!1),[n,l]=a.useState([]),[c,u]=a.useState(null),[r,d]=a.useState({keyword:""}),[x,F]=a.useState(!0),[p,b]=a.useState(1),v=a.useRef(0),[P,D]=a.useState(1),[N,U]=a.useState("Area Guides"),[H,E]=a.useState(""),[M,L]=a.useState(""),[_,T]=a.useState(0),B=a.useRef(r),C=a.useRef(r);a.useEffect(()=>{B.current=r},[r]),a.useEffect(()=>{const o=new URLSearchParams(window.location.search);d({keyword:o.get("keyword")||""}),b(Number(o.get("page"))||1)},[]),a.useEffect(()=>{r.keyword!==C.current.keyword&&(j(),C.current=r)},[r,p]);const j=async()=>{i(!0),u(null);try{const o=new URLSearchParams({keyword:r.keyword,page:p.toString()}),h=`${t}?${o.toString()}`,f=await fetch(h);if(!f.ok)throw new Error("Failed to fetch properties");const m=await f.json();l(m.data.records||[]),D(m.data.total_pages),F(m.data.need_banner),m.data.banner_image&&L(m.data.banner_image),U(m.data.title||"Blog : News & Trends"),E(m.data.sub_title||""),T(Number(m.data.count)||0)}catch(o){console.error("Error fetching properties:",o),u("Failed to load properties. Please try again later.")}finally{i(!1)}},G=o=>{const{name:h,value:f}=o.target;d(m=>{const S={...m,[h]:h==="minPrice"||h==="maxPrice"?Number(f):f},O=new URLSearchParams({keyword:S.keyword,page:"1"}),W=`${window.location.pathname}?${O.toString()}`;return window.history.pushState({},"",W),b(1),S})},V=o=>{if(o!==p){window.scrollTo({top:0,behavior:"smooth"});const h=new URLSearchParams(window.location.search);h.set("page",o.toString());const f=`${window.location.pathname}?${h.toString()}`;window.history.pushState({},"",f),console.log(o+"currentPage"+p),b(o)}},I=o=>{o.preventDefault(),j()};return a.useEffect(()=>{p!==v.current&&(v.current=p,j())},[p]),e.jsxs("div",{children:[c&&e.jsx("p",{children:c}),e.jsxs(X,{children:[e.jsx("title",{children:N})," "]}),s?e.jsx(e.Fragment,{children:e.jsx(se,{})}):e.jsxs(e.Fragment,{children:[x&&e.jsxs("div",{className:"section-dark page-banner list-banner-home for-listing-page more-height half-height sect-blog",children:[e.jsx("div",{className:"full-block page-banner-image",style:{backgroundImage:`url(${M})`}}),e.jsx("div",{className:"full-block overlay"}),e.jsx("div",{className:"container h-100-per",children:e.jsx("div",{className:"row disp-table h-100-per",children:e.jsx("div",{className:"col-sm-12 h-100-per",children:e.jsxs("div",{className:"page-banner-content",children:[e.jsx("div",{className:"text-in-writer",children:e.jsx("div",{className:"fancy-title-hold text-left clearfix",children:e.jsxs("h2",{className:"fancy-title animate animated",children:[N,e.jsx("span",{className:"sub-title-fnt",children:H})]})})}),e.jsx("div",{className:"property-search property-search-full",children:e.jsx(le,{formData:r,handleInputChange:G,handleSubmit:I,setFormData:d})})]})})})})]}),e.jsx("div",{id:"blog",className:"blog list-project pt25 mb25",children:e.jsxs("div",{className:"container mb-50",children:[!x&&e.jsx(e.Fragment,{children:e.jsx(g,{item:!0,xs:12,md:6,mt:5,mb:3,children:e.jsx(w,{variant:"h2",component:"h2",sx:{fontWeight:700,mb:3,color:"primary.light"},children:"Communities"})})}),e.jsxs("div",{className:"row article gy-4 posts-list grid",children:[e.jsx("div",{className:"row hide d-none",children:e.jsx("div",{className:"col col-sm-12 p-my mb10",children:e.jsx(e.Fragment,{children:n.length>0?e.jsx("div",{className:"fancy-title-hold text-left clearfix",children:e.jsxs("p",{className:"text-right pr15",children:[_," records found"]})}):e.jsx("div",{})})})}),e.jsx(g,{container:!0,spacing:3,children:n.length>0?n.map((o,h)=>e.jsx(g,{item:!0,xs:12,sm:6,md:4,children:e.jsx(ce,{property:o})},`${o.id}-${h}`)):e.jsx(g,{item:!0,xs:12,children:e.jsx(te,{})})})]})]})})]}),e.jsx("div",{className:"clearfix"}),e.jsx(de,{currentPage:p,totalPages:P,onPageChange:V}),e.jsx("div",{className:"clearfix"})]})},de=({currentPage:t,totalPages:s,onPageChange:i})=>{if(s<=1)return null;const n=5;let l=t-Math.floor(n/2),c=t+Math.floor(n/2);l<1?(l=1,c=Math.min(n,s)):c>s&&(c=s,l=Math.max(1,s-n+1));const u=Array.from({length:c-l+1},(r,d)=>l+d);return e.jsxs("div",{className:"custom-pagination",children:[t>1&&e.jsx("button",{onClick:()=>i(t-1),children:"«"}),u.map(r=>e.jsx("button",{className:r===t?"active":"",onClick:()=>i(r),children:r},r)),t<s&&e.jsx("button",{onClick:()=>i(t+1),children:"»"})]})};export{be as default};
