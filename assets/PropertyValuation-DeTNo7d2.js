import{j as e,r as c,B as l,t as x,E as T,T as p,W as S,L as E,a as W,q as _,p as R}from"./index-C2hfVn6k.js";import{P as D}from"./style-hE5DBTlN.js";import{A as L}from"./Constants-D6TUlAnp.js";import{S as M}from"./SuccessMessage-XyZWWjU2.js";import{h as q,g as F,S as H}from"./react-google-recaptcha-v3.esm-D6mVwgwV.js";import{P as O}from"./Person-Bo0XV2dS.js";import{W as U}from"./Work-DTgxpPCp.js";import{M as V}from"./Message-BQaVAb1m.js";import{G as s}from"./Grid-BNK0cvxE.js";import{I as f}from"./InputAdornment-CqnDKZku.js";import{A as z}from"./AboutService-CvMNPUV7.js";import"./index-B6aWreaO.js";const B="6LfeHlUrAAAAAIQ6293y6Q_JdroN6UgRCYNRX1Wn",$=({options:m,formType:g})=>{const[t,d]=c.useState({name:"",email:"",ph:"",sect:"",category:"",location:"",description:""}),[b,y]=c.useState(!1),[v,j]=c.useState(""),[P,A]=c.useState(""),[a,u]=c.useState({}),{executeRecaptcha:I}=F(),k=r=>{d(n=>({...n,ph:r})),u(n=>({...n,ph:""}))},h=r=>{const{name:n,value:o}=r.target;A(""),d(i=>({...i,[n]:o})),u(i=>({...i,[n]:""}))},w=()=>{const r={};return t.name.trim()||(r.name="Name is required"),t.email.trim()||(r.email="Email is required"),t.ph.trim()||(r.ph="Phone is required"),t.location.trim()||(r.location="Location is required"),t.description.trim()||(r.description="Message is required"),u(r),Object.keys(r).length===0},N=async r=>{if(r.preventDefault(),!!w()){if(!I){j("reCAPTCHA not yet available. Please try again later.");return}y(!0),j("");try{const n=await I("property_valuation_form"),o=new FormData;o.append("name",t.name),o.append("email",t.email),o.append("ph",t.ph),o.append("sect",t.sect),o.append("category",t.category),o.append("location",t.location),o.append("description",t.description),o.append("formType",String(g)),o.append("recaptcha_token",n);const i=await _.post(`${L}property_valuation`,o);i.data.status==="success"?(A(i.data.message),d({name:"",email:"",ph:"",sect:"",category:"",location:"",description:""}),u({})):(j("There was an error with your submission."),i.data.errors&&u(i.data.errors))}catch{j("Network error occurred. Please try again later.")}finally{y(!1)}}};return e.jsxs(l,{component:"form",onSubmit:N,noValidate:!0,sx:{mt:3},children:[P&&e.jsx(M,{responseMessage:P}),e.jsxs(s,{container:!0,spacing:2,children:[e.jsx(s,{item:!0,xs:12,sm:6,children:e.jsx(x,{fullWidth:!0,label:"Name",name:"name",value:t.name,onChange:h,error:!!a.name,helperText:a.name||"",InputProps:{startAdornment:e.jsx(f,{position:"start",children:e.jsx(O,{})})}})}),e.jsx(s,{item:!0,xs:12,sm:6,children:e.jsx(x,{fullWidth:!0,label:"Email",name:"email",value:t.email,onChange:h,error:!!a.email,helperText:a.email||"",InputProps:{startAdornment:e.jsx(f,{position:"start",children:e.jsx(T,{})})}})}),e.jsx(s,{item:!0,xs:12,sm:6,children:e.jsxs(l,{className:"phoneinp-grid",sx:{"& .PhoneInputInput":{fontSize:"16px",padding:"16.5px 14px",border:"0px solid rgba(0, 0, 0, 0.23)",borderRadius:"4px",width:"100%",boxSizing:"border-box",backgroundColor:"#fff"},position:"relative"},children:[e.jsx(D,{international:!0,defaultCountry:"AE",value:t.ph,onChange:k,placeholder:"Phone",countryCallingCodeEditable:!1,className:"mui-phone-input",style:{paddingLeft:"48px"}}),a.ph&&e.jsx(p,{color:"error",variant:"caption",sx:{pl:1},children:a.ph})]})}),e.jsx(s,{item:!0,xs:12,sm:6,className:"d-none hide",children:e.jsxs(x,{select:!0,fullWidth:!0,label:"Designation",name:"category",value:t.category,onChange:h,error:!!a.category,helperText:a.category||"",InputProps:{startAdornment:e.jsx(f,{position:"start",children:e.jsx(U,{})})},children:[e.jsx(S,{value:"",children:"Select Designation"}),m.map(r=>e.jsx(S,{value:r.id,children:r.name},r.id))]})}),e.jsx(s,{item:!0,xs:12,sm:6,children:e.jsx(x,{fullWidth:!0,label:"Location",name:"location",value:t.location,onChange:h,error:!!a.location,helperText:a.location||"",InputProps:{startAdornment:e.jsx(f,{position:"start",children:e.jsx(E,{})})}})}),g!==1&&e.jsx(s,{item:!0,xs:12,children:e.jsx(x,{fullWidth:!0,multiline:!0,rows:4,label:"Message",name:"description",value:t.description,onChange:h,error:!!a.description,helperText:a.description||"",InputProps:{startAdornment:e.jsx(f,{position:"start",children:e.jsx(V,{})})}})}),e.jsx(s,{item:!0,xs:12,children:e.jsx(W,{fullWidth:!0,type:"submit",variant:"contained",sx:{fontSize:"1.1rem"},color:"primary",disabled:b,children:b?"Processing...":"Submit Details"})}),v&&e.jsx(p,{color:"error",children:v}),e.jsx("div",{className:"text-center d-block w-100-p",children:e.jsxs(l,{sx:{mt:3,display:"flex",alignItems:"center",gap:1,justifyContent:"center"},children:[e.jsx(H,{fontSize:"small",color:"action"}),e.jsxs(p,{variant:"caption",color:"textSecondary",children:["Protected by reCAPTCHA — ",e.jsx("a",{href:"https://policies.google.com/privacy",target:"_blank",rel:"noopener noreferrer",children:"Privacy"})," | ",e.jsx("a",{href:"https://policies.google.com/terms",target:"_blank",rel:"noopener noreferrer",children:"Terms"})]})]})})]})]})};function G(m){return e.jsx(q,{reCaptchaKey:B,scriptProps:{async:!0,defer:!0,appendTo:"body"},useRecaptchaNet:!0,children:e.jsx($,{...m})})}const C="https://dsp.rsworkspace.com/api/site/",ne=()=>{const[m,g]=c.useState([]);return c.useEffect(()=>{(async()=>{try{const y=(await(await fetch(`${C}about_cv`)).json()).data;g(y)}catch(d){console.error("Error fetching options:",d)}})()},[]),e.jsx(e.Fragment,{children:e.jsxs(l,{sx:{minHeight:"100vh",bgcolor:"background.default",py:8,px:{xs:2,md:6}},children:[e.jsxs(s,{container:!0,spacing:6,alignItems:"stretch",children:[e.jsx(s,{item:!0,xs:12,md:6,sx:{display:"flex",flexDirection:"column"},children:e.jsx(l,{sx:{flex:1},children:e.jsx(l,{className:"stagc-loc-txt",sx:{mt:12},children:e.jsxs("div",{className:"py-5",children:[e.jsx(p,{variant:"h2",component:"h2",sx:{fontWeight:700,mb:3,color:"primary.main"},"data-aos":"fade-up","data-aos-delay":"500",children:"Property Valuation"}),e.jsx(p,{variant:"body1","data-aos":"fade-up","data-aos-delay":"600",sx:{color:"text.dark",textAlign:"justify"},children:"Thinking of selling? Or just curious about your property's market value? At Derrick Signature Properties, we offer accurate, no-obligation property valuations backed by local expertise and in-depth market insight. Whether you're preparing to list or simply exploring your options, our team is here to provide honest advice — book your valuation today and take the first step with confidence."})]})})})}),e.jsx(s,{item:!0,xs:12,md:6,sx:{display:"flex",flexDirection:"column"},children:e.jsxs(R,{elevation:3,sx:{p:4,borderRadius:4,flex:1},children:[e.jsx(p,{variant:"h5",fontWeight:600,gutterBottom:!0,sx:{color:"text.primary",mb:1},children:"Enquire Now"}),e.jsx(l,{mt:2,children:e.jsx(G,{formType:2,options:m})})]})})]}),e.jsxs("div",{className:"why-coose mt50",children:[e.jsx(p,{variant:"h2",component:"h2",sx:{fontWeight:700,mb:3,color:"primary.main"},"data-aos":"fade-up","data-aos-delay":"500",className:"text-center",children:"How It Works?"}),e.jsx(z,{apiUrl:`${C}property_valuation_faq`})]})]})})};export{ne as default};
